CREATE TABLE IF NOT EXISTS GENRES (
genre_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
genre_name VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS RATING (
rating_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
rating_name VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS FILMS (
film_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
name VARCHAR(255) NOT NULL,
rating_id INTEGER NOT NULL REFERENCES RATING(rating_id),
description VARCHAR(255) NOT NULL,
releaseDate DATE,
duration INTEGER
);

CREATE TABLE IF NOT EXISTS Users (
user_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
email VARCHAR(255) NOT NULL,
login VARCHAR(255) NOT NULL,
user_name VARCHAR(255) NOT NULL,
birthday DATE NOT NULL
);

CREATE TABLE IF NOT EXISTS FilmsGenres (
film_id INTEGER REFERENCES FILMS(film_id),
genre_id INTEGER REFERENCES GENRES(genre_id)
);

CREATE TABLE IF NOT EXISTS LIKES (
film_id INTEGER REFERENCES FILMS(film_id),
user_id INTEGER REFERENCES Users(user_id)
);

CREATE TABLE IF NOT EXISTS FRIENDS (
user_id INTEGER REFERENCES Users(user_id),
friend_id INTEGER REFERENCES Users(user_id)
);